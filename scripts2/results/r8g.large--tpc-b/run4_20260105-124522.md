# Benchmark Report: TPC-B

**Date:** 2026-01-05 12:46:31
**Context:** `single-node/r8g.large--tpc-b`
**Hardware:** r8g.large (2 vCPU, 16 GB RAM)
**Workload:** tpc-b

## Summary

| Metric | Value |
|--------|-------|
| **TPS** | **2,349** |
| Duration | 60s |
| Avg Latency | 42.39ms |
| Latency Stddev | 26.84ms |
| P99 Latency | 109.49ms |
| Total Transactions | 140,996 |

### Additional Metrics

| Metric | Value |
|--------|-------|
| clients | 100 |
| scale | 204 |

---

## Configuration Matrix

**Context:** `single-node/r8g.large--tpc-b`
**Hardware:** r8g.large (2 vCPU, 16 GB RAM)
**Workload:** tpc-b

### PostgreSQL - Memory

| Setting | Value |
|---------|-------|
| shared_buffers | `4GB` |
| huge_pages | `try` |
| work_mem | `16MB` |
| maintenance_work_mem | `256MB` |
| effective_cache_size | `11GB` |
| max_connections | `300` |

### PostgreSQL - WAL

| Setting | Value |
|---------|-------|
| wal_buffers | `64MB` |
| wal_compression | `lz4` |
| max_wal_size | `32GB` |
| checkpoint_timeout | `30min` |
| synchronous_commit | `on` |
| commit_delay | `0` |

### PostgreSQL - Background Writer

| Setting | Value |
|---------|-------|
| bgwriter_delay | `10ms` |
| bgwriter_lru_maxpages | `500` |
| bgwriter_lru_multiplier | `4.0` |

### PostgreSQL - Parallel Query

| Setting | Value |
|---------|-------|
| max_worker_processes | `2` |
| max_parallel_workers | `2` |
| max_parallel_workers_per_gather | `2` |
| jit | `off` |

### OS Tuning

| Setting | Value |
|---------|-------|
| vm.nr_hugepages | `2191` |
| vm.swappiness | `1` |
| vm.dirty_background_ratio | `1` |
| vm.dirty_ratio | `4` |

### Block Device Tuning

| Device | read_ahead_kb | scheduler | nomerges |
|--------|---------------|-----------|----------|
| md0 (DATA) | `64` | `none` | `0` |
| md1 (WAL) | `4096` | `none` | `0` |

### Benchmark Config

| Setting | Value |
|---------|-------|
| pgbench_scale | `204` |
| pgbench_duration | `60` |
| pgbench_clients_heavy | `100` |

---

## System Configuration

```
=== INSTANCE ===

Linux ip-10-0-1-28 6.14.0-1018-aws #18~24.04.1-Ubuntu SMP Mon Nov 24 19:32:52 UTC 2025 aarch64 aarch64 aarch64 GNU/Linux
Architecture:                            aarch64
CPU(s):                                  2
Model name:                              Neoverse-V2
total        used        free      shared  buff/cache   available
Mem:            15Gi       5.1Gi       4.7Gi       2.4Mi       6.0Gi        10Gi
Swap:             0B          0B          0B

=== OS TUNING ===
vm.swappiness = 1
vm.dirty_ratio = 4
vm.dirty_background_ratio = 1
vm.dirty_expire_centisecs = 200
vm.dirty_writeback_centisecs = 100
always madvise [never]

=== HUGEPAGES ===
AnonHugePages:         0 kB
ShmemHugePages:        0 kB
FileHugePages:   1456128 kB
HugePages_Total:    2200
HugePages_Free:       69
HugePages_Rsvd:        5
HugePages_Surp:        0

=== NETWORK ===
net.core.somaxconn = 4096
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_fin_timeout = 15

=== DISK - RAID ===
Personalities : [raid10] 
md1 : active raid10 nvme9n1[6] nvme11n1[7] nvme15n1[1] nvme13n1[2] nvme12n1[0] nvme16n1[5] nvme10n1[3] nvme14n1[4]
      125759488 blocks super 1.2 256K chunks 2 near-copies [8/8] [UUUUUUUU]
      
md0 : active raid10 nvme6n1[3] nvme2n1[7] nvme3n1[5] nvme1n1[4] nvme7n1[2] nvme4n1[6] nvme5n1[1] nvme8n1[0]
      209580032 blocks super 1.2 64K chunks 2 near-copies [8/8] [UUUUUUUU]
      
unused devices: <none>
/dev/md0:
           Version : 1.2
     Creation Time : Sat Jan  3 08:26:08 2026
        Raid Level : raid10
        Array Size : 209580032 (199.87 GiB 214.61 GB)
     Used Dev Size : 52395008 (49.97 GiB 53.65 GB)
      Raid Devices : 8
     Total Devices : 8
       Persistence : Superblock is persistent

       Update Time : Mon Jan  5 12:45:12 2026
             State : clean 
    Active Devices : 8
   Working Devices : 8
    Failed Devices : 0
     Spare Devices : 0

            Layout : near=2
        Chunk Size : 64K

Consistency Policy : resync

              Name : ip-10-0-1-227:0
              UUID : ec94b08e:1ec1acd2:a24076ab:c0b61faa
            Events : 310

    Number   Major   Minor   RaidDevice State
       0     259        6        0      active sync set-A   /dev/nvme8n1
       1     259        4        1      active sync set-B   /dev/nvme5n1
       2     259        8        2      active sync set-A   /dev/nvme7n1
       3     259        5        3      active sync set-B   /dev/nvme6n1
       4     259        2        4      active sync set-A   /dev/nvme1n1
       5     259        1        5      active sync set-B   /dev/nvme3n1
       6     259        3        6      active sync set-A   /dev/nvme4n1
       7     259        7        7      active sync set-B   /dev/nvme2n1
/dev/md1:
           Version : 1.2
     Creation Time : Sat Jan  3 08:26:08 2026
        Raid Level : raid10
        Array Size : 125759488 (119.93 GiB 128.78 GB)
     Used Dev Size : 31439872 (29.98 GiB 32.19 GB)
      Raid Devices : 8
     Total Devices : 8
       Persistence : Superblock is persistent

       Update Time : Mon Jan  5 12:45:16 2026
             State : clean 
    Active Devices : 8
   Working Devices : 8
    Failed Devices : 0
     Spare Devices : 0

            Layout : near=2
        Chunk Size : 256K

Consistency Policy : resync

              Name : ip-10-0-1-227:1
              UUID : 4920b43f:4424608d:2e163255:f781c5ec
            Events : 22

    Number   Major   Minor   RaidDevice State
       0     259       13        0      active sync set-A   /dev/nvme12n1
       1     259       19        1      active sync set-B   /dev/nvme15n1
       2     259       18        2      active sync set-A   /dev/nvme13n1
       3     259        9        3      active sync set-B   /dev/nvme10n1
       4     259       11        4      active sync set-A   /dev/nvme14n1
       5     259       14        5      active sync set-B   /dev/nvme16n1
       6     259       10        6      active sync set-A   /dev/nvme9n1
       7     259       12        7      active sync set-B   /dev/nvme11n1

=== DISK - BLOCK TUNING ===
--- md0 ---
scheduler: 
read_ahead_kb: 64
nr_requests: 
--- md1 ---
scheduler: 
read_ahead_kb: 4096
nr_requests: 

=== DISK - MOUNT ===
/dev/md1 on /wal type xfs (rw,noatime,nodiratime,attr2,inode64,logbufs=8,logbsize=256k,sunit=512,swidth=2048,noquota)
/dev/md0 on /data type xfs (rw,noatime,nodiratime,attr2,inode64,allocsize=65536k,logbufs=8,logbsize=256k,sunit=128,swidth=512,noquota)
Filesystem      Size  Used Avail Use% Mounted on
/dev/md0        200G   28G  172G  14% /data
/dev/md1        120G   21G  100G  18% /wal

=== DISK - XFS ===
meta-data=/dev/md0               isize=512    agcount=16, agsize=3274688 blks
         =                       sectsz=4096  attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=1
         =                       reflink=1    bigtime=1 inobtcount=1 nrext64=0
data     =                       bsize=4096   blocks=52395008, imaxpct=25
         =                       sunit=16     swidth=64 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=25583, version=2
         =                       sectsz=4096  sunit=1 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
meta-data=/dev/md1               isize=512    agcount=8, agsize=3929984 blks
         =                       sectsz=4096  attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=1
         =                       reflink=1    bigtime=1 inobtcount=1 nrext64=0
data     =                       bsize=4096   blocks=31439872, imaxpct=25
         =                       sunit=64     swidth=256 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=16384, version=2
         =                       sectsz=4096  sunit=1 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0

=== POSTGRESQL CONFIG ===
effective_cache_size | 1441792 | 8kB
 huge_pages           | try     | 
 max_connections      | 300     | 
 max_wal_size         | 32768   | MB
 shared_buffers       | 524288  | 8kB
 wal_buffers          | 8192    | 8kB
 work_mem             | 16384   | kB
```

---

## Benchmark Output

```
pgbench (16.11 (Ubuntu 16.11-1.pgdg24.04+1))
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 204
query mode: simple
number of clients: 100
number of threads: 2
maximum number of tries: 1
duration: 60 s
number of transactions actually processed: 140996
number of failed transactions: 0 (0.000%)
latency average = 42.392 ms
latency stddev = 26.840 ms
initial connection time = 93.145 ms
tps = 2348.622450 (without initial connection time)
starting vacuum...end.
progress: 5.0 s, 3999.0 tps, lat 24.423 ms stddev 10.710, 0 failed
progress: 10.0 s, 4105.2 tps, lat 24.338 ms stddev 9.576, 0 failed
progress: 15.0 s, 3705.8 tps, lat 26.813 ms stddev 13.186, 0 failed
progress: 20.0 s, 1739.8 tps, lat 57.010 ms stddev 28.310, 0 failed
progress: 25.0 s, 1820.6 tps, lat 55.224 ms stddev 26.175, 0 failed
progress: 30.0 s, 1805.8 tps, lat 54.657 ms stddev 29.951, 0 failed
progress: 35.0 s, 1790.6 tps, lat 55.475 ms stddev 29.491, 0 failed
progress: 40.0 s, 1808.0 tps, lat 55.341 ms stddev 27.224, 0 failed
progress: 45.0 s, 1918.4 tps, lat 51.889 ms stddev 25.957, 0 failed
progress: 50.0 s, 1831.0 tps, lat 54.343 ms stddev 27.949, 0 failed
progress: 55.0 s, 1855.2 tps, lat 53.775 ms stddev 25.673, 0 failed
progress: 60.0 s, 1799.8 tps, lat 55.564 ms stddev 29.365, 0 failed

```

---

## Diagnostics

### iostat

```
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           1226.45  16195.92     0.00   0.00    2.99    13.21  340.60   8766.06     0.00   0.00    2.14    25.74    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    4.40  44.08
md1              0.22      3.89     0.00   0.00    0.94    18.05   93.93   4802.65     0.00   0.00    1.38    51.13    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.13   7.16
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0              0.00      0.00     0.00   0.00    0.00     0.00    2.00     28.00     0.00   0.00    1.00    14.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0              1.00      8.00     0.00   0.00    0.00     8.00   15.00    736.00     0.00   0.00    1.33    49.07    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.02   0.30
md1              0.00      0.00     0.00   0.00    0.00     0.00  280.00  20360.00     0.00   0.00    1.43    72.71    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.40  32.50
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0              0.00      0.00     0.00   0.00    0.00     0.00   21.00   1080.00     0.00   0.00    1.00    51.43    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.02   0.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  329.00  23128.00     0.00   0.00    1.46    70.30    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.48  38.70
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  371.00  22116.00     0.00   0.00    1.34    59.61    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.50  40.80
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0              0.00      0.00     0.00   0.00    0.00     0.00    8.00    424.00     0.00   0.00    1.50    53.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.01   0.20
md1              0.00      0.00     0.00   0.00    0.00     0.00  325.00  20656.00     0.00   0.00    1.45    63.56    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.47  39.20
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  338.00  20432.00     0.00   0.00    1.38    60.45    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.47  39.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  335.00  19032.00     0.00   0.00    1.35    56.81    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.45  38.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  332.00  18624.00     0.00   0.00    1.35    56.10    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.45  38.50
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  339.00  17624.00     0.00   0.00    1.34    51.99    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.45  39.60
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  316.00  16192.00     0.00   0.00    1.29    51.24    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.41  35.30
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0              0.00      0.00     0.00   0.00    0.00     0.00   32.00    312.00     0.00   0.00    1.03     9.75    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   0.20
md1              0.00      0.00     0.00   0.00    0.00     0.00  328.00  16128.00     0.00   0.00    1.27    49.17    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.42  36.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  314.00  15048.00     0.00   0.00    1.34    47.92    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.42  36.70
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0              7.00     64.00     0.00   0.00    0.57     9.14    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.40
md1              0.00      0.00     0.00   0.00    0.00     0.00  326.00  14856.00     0.00   0.00    1.29    45.57    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.42  37.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0             80.00   1232.00     0.00   0.00    4.50    15.40   12.00    576.00     0.00   0.00    1.42    48.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.38  28.20
md1              0.00      0.00     0.00   0.00    0.00     0.00  337.00  13904.00     0.00   0.00    1.22    41.26    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.41  36.80
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md1              0.00      0.00     0.00   0.00    0.00     0.00  338.00  13088.00     0.00   0.00    1.20    38.72    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.41  36.70
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2208.00  17936.00     0.00   0.00    3.10     8.12    8.00    384.00     0.00   0.00    1.00    48.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    6.84  78.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  248.00  11904.00     0.00   0.00    1.25    48.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.31  27.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           3828.00  31268.00     0.00   0.00    2.85     8.17   10.00    480.00     0.00   0.00    1.30    48.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00   10.93 100.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  234.00  11832.00     0.00   0.00    1.28    50.56    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.30  25.70
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           3350.00  27720.00     0.00   0.00    2.67     8.27    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    8.96  99.90
md1              0.00      0.00     0.00   0.00    0.00     0.00  213.00  11800.00     0.00   0.00    1.32    55.40    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.28  24.30
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util

... (66 lines omitted) ...

md0           2574.00  24272.00     0.00   0.00    2.42     9.43   21.00    200.00     0.00   0.00    1.00     9.52    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    6.26 100.20
md1              0.00      0.00     0.00   0.00    0.00     0.00  207.00   9208.00     0.00   0.00    1.24    44.48    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.26  22.60
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2703.00  25052.00     0.00   0.00    2.20     9.27    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.94  99.80
md1              0.00      0.00     0.00   0.00    0.00     0.00  203.00   9472.00     0.00   0.00    1.27    46.66    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.26  22.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2833.00  26320.00     0.00   0.00    2.33     9.29    1.00     32.00     0.00   0.00    1.00    32.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    6.61 100.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  235.00   9656.00     0.00   0.00    1.21    41.09    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.28  25.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2717.00  25356.00     0.00   0.00    2.24     9.33    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    6.10 100.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  230.00   9656.00     0.00   0.00    1.25    41.98    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.29  25.30
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2297.00  21052.00     0.00   0.00    2.27     9.16    2.00     32.00     0.00   0.00    1.00    16.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.22  99.90
md1              0.00      0.00     0.00   0.00    0.00     0.00  276.00   9816.00     0.00   0.00    1.17    35.57    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.32  29.60
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2444.44  22644.44     0.00   0.00    2.30     9.26    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.62 100.37
md1              0.00      0.00     0.00   0.00    0.00     0.00  201.85   8755.56     0.00   0.00    1.22    43.38    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.25  22.22
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2702.00  24980.00     0.00   0.00    2.38     9.25    2.00     16.00     0.00   0.00    0.50     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    6.44 107.30
md1              0.00      0.00     0.00   0.00    0.00     0.00  209.00   9600.00     0.00   0.00    1.25    45.93    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.26  23.20
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2318.00  21448.00     0.00   0.00    2.23     9.25    1.00     48.00     0.00   0.00    2.00    48.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.17  92.50
md1              0.00      0.00     0.00   0.00    0.00     0.00  203.00   8376.00     0.00   0.00    1.23    41.26    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.25  22.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2762.14  25394.17     0.00   0.00    2.12     9.19    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.85  99.13
md1              0.00      0.00     0.00   0.00    0.00     0.00  266.02   9957.28     0.00   0.00    1.20    37.43    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.32  28.93
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2447.00  22504.00     0.00   0.00    2.28     9.20    6.00    288.00     0.00   0.00    1.17    48.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.60  99.80
md1              0.00      0.00     0.00   0.00    0.00     0.00  207.00   8584.00     0.00   0.00    1.22    41.47    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.25  22.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2396.00  21908.00     0.00   0.00    2.31     9.14    1.00     32.00     0.00   0.00    1.00    32.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.54  99.90
md1              0.00      0.00     0.00   0.00    0.00     0.00  204.00   8776.00     0.00   0.00    1.24    43.02    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.25  22.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2249.00  20476.00     0.00   0.00    2.38     9.10    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.36 100.00
md1              0.00      0.00     0.00   0.00    0.00     0.00  230.00   8792.00     0.00   0.00    1.18    38.23    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.27  24.80
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2252.00  20832.00     0.00   0.00    2.41     9.25    8.00    400.00     0.00   0.00    1.00    50.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.44 100.00
md1              0.00      0.00     0.00   0.00    0.00     0.00  216.00   8616.00     0.00   0.00    1.26    39.89    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.27  24.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2288.12  20673.27     0.00   0.00    2.27     9.04    0.99     31.68     0.00   0.00    1.00    32.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.20  99.90
md1              0.00      0.00     0.00   0.00    0.00     0.00  212.87   8388.12     0.00   0.00    1.19    39.40    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.25  22.77
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2184.00  19996.00     0.00   0.00    2.19     9.16    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    4.78 100.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  206.00   8560.00     0.00   0.00    1.18    41.55    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.24  21.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2250.00  20744.00     0.00   0.00    2.31     9.22    2.00     64.00     0.00   0.00    1.00    32.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.19 100.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  208.00   8432.00     0.00   0.00    1.25    40.54    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.26  23.50
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           2055.00  18852.00     0.00   0.00    2.46     9.17    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    5.06  99.90
md1              0.00      0.00     0.00   0.00    0.00     0.00  208.00   8056.00     0.00   0.00
```

### mpstat

```
Linux 6.14.0-1018-aws (ip-10-0-1-28) 	01/05/26 	_aarch64_	(2 CPU)

12:45:23     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:24     all    1.01    0.00    1.52    0.51    0.00    0.51    0.00    0.00    0.00   96.46
12:45:24       0    1.02    0.00    1.02    0.00    0.00    1.02    0.00    0.00    0.00   96.94
12:45:24       1    1.00    0.00    2.00    1.00    0.00    0.00    0.00    0.00    0.00   96.00

12:45:24     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:25     all    1.48    0.00    1.48    0.49    0.00    0.00    0.00    0.00    0.00   96.55
12:45:25       0    1.96    0.00    1.96    0.98    0.00    0.00    0.00    0.00    0.00   95.10
12:45:25       1    0.99    0.00    0.99    0.00    0.00    0.00    0.00    0.00    0.00   98.02

12:45:25     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:26     all   56.78    0.00   40.20    0.00    0.00    0.00    0.00    0.00    0.00    3.02
12:45:26       0   67.00    0.00   31.00    0.00    0.00    0.00    0.00    0.00    0.00    2.00
12:45:26       1   46.46    0.00   49.49    0.00    0.00    0.00    0.00    0.00    0.00    4.04

12:45:26     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:27     all   63.00    0.00   37.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:27       0   75.00    0.00   25.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:27       1   51.00    0.00   49.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:45:27     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:28     all   60.50    0.00   39.00    0.00    0.00    0.00    0.00    0.00    0.00    0.50
12:45:28       0   67.68    0.00   32.32    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:28       1   53.47    0.00   45.54    0.00    0.00    0.00    0.00    0.00    0.00    0.99

12:45:28     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:29     all   62.50    0.00   37.50    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:29       0   73.27    0.00   26.73    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:29       1   51.52    0.00   48.48    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:45:29     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:30     all   60.30    0.00   39.70    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:30       0   70.71    0.00   29.29    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:30       1   50.00    0.00   50.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:45:30     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:31     all   62.00    0.00   38.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:31       0   72.00    0.00   28.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:31       1   52.00    0.00   48.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:45:31     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:32     all   61.50    0.00   38.50    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:32       0   53.00    0.00   47.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:32       1   70.00    0.00   30.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:45:32     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:45:33     all   62.93    0.00   37.07    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:45:33       0   57.28    0.00   42.72    0.00    0.00    0.00    0.00    0.00    0.00    0.00

... (227 lines omitted) ...

12:46:18     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:19     all   61.31    0.00   38.69    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:19       0   73.00    0.00   27.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:19       1   49.49    0.00   50.51    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:19     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:20     all   61.19    0.00   38.81    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:20       0   73.00    0.00   27.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:20       1   49.50    0.00   50.50    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:20     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:21     all   62.31    0.00   37.69    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:21       0   72.00    0.00   28.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:21       1   52.53    0.00   47.47    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:21     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:22     all   62.31    0.00   37.69    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:22       0   74.75    0.00   25.25    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:22       1   50.00    0.00   50.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:22     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:23     all   63.05    0.00   36.45    0.49    0.00    0.00    0.00    0.00    0.00    0.00
12:46:23       0   74.26    0.00   25.74    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:23       1   51.96    0.00   47.06    0.98    0.00    0.00    0.00    0.00    0.00    0.00

12:46:23     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:24     all   61.62    0.00   38.38    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:24       0   67.68    0.00   32.32    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:24       1   55.56    0.00   44.44    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:24     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:25     all   57.55    0.00   42.45    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:25       0   46.23    0.00   53.77    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:25       1   68.87    0.00   31.13    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:25     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:26     all   60.80    0.00   39.20    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:26       0   69.00    0.00   31.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:26       1   52.53    0.00   47.47    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:26     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:27     all   58.21    0.00   41.29    0.50    0.00    0.00    0.00    0.00    0.00    0.00
12:46:27       0   67.00    0.00   32.00    1.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:27       1   49.50    0.00   50.50    0.00    0.00    0.00    0.00    0.00    0.00    0.00

12:46:27     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:46:28     all   60.80    0.00   39.20    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:28       0   70.00    0.00   30.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:46:28       1   51.52    0.00   48.48    0.00    0.00    0.00    0.00    0.00    0.00    0.00

```

### pg_wait_events

```
=== 12:45:23 ===
 CPU  | Running |   1

=== 12:45:24 ===

=== 12:45:25 ===

=== 12:45:26 ===
 LWLock | WALWrite      |  32
 Lock   | transactionid |  14
 IO     | WALSync       |   1
 Lock   | tuple         |   1

=== 12:45:27 ===
 LWLock | WALWrite      |  22
 Lock   | transactionid |   9
 Client | ClientRead    |   7
 CPU    | Running       |   6
 Lock   | tuple         |   4

=== 12:45:28 ===
 LWLock | WALWrite      |  16
 Lock   | transactionid |   9
 Lock   | tuple         |   3
 CPU    | Running       |   2
 IO     | WALSync       |   1

=== 12:45:29 ===
 LWLock | WALWrite      |  26
 Lock   | transactionid |  15
 Client | ClientRead    |   1
 IO     | WALSync       |   1

=== 12:45:30 ===
 LWLock | WALWrite      |  57
 Lock   | transactionid |  20
 Lock   | tuple         |   4
 CPU    | Running       |   1
 Client | ClientRead    |   1

=== 12:45:31 ===
 LWLock | WALWrite      |  31
 Lock   | transactionid |  11
 CPU    | Running       |   4
 Client | ClientRead    |   1
 IO     | WALSync       |   1

=== 12:45:32 ===
 LWLock | WALWrite      |  20
 Lock   | transactionid |   6

... (275 lines omitted) ...

=== 12:46:21 ===
 LWLock | WALInsert     |  70
 LWLock | BufferContent |  43
 LWLock | WALWrite      |  20
 Lock   | transactionid |  14
 CPU    | Running       |  10

=== 12:46:22 ===
 LWLock | WALInsert     |  49
 LWLock | BufferContent |  39
 LWLock | WALWrite      |  25
 Lock   | transactionid |  19
 IO     | DataFileRead  |   4

=== 12:46:23 ===
 LWLock | WALWrite      |  97
 Lock   | transactionid |  22
 LWLock | BufferContent |   6
 LWLock | WALInsert     |   3
 Client | ClientRead    |   2

=== 12:46:25 ===
 LWLock | WALInsert     |  40
 IO     | DataFileRead  |  11
 Lock   | transactionid |   9
 LWLock | WALWrite      |   6
 LWLock | BufferContent |   4

=== 12:46:26 ===
 LWLock | WALWrite      |  36
 LWLock | WALInsert     |  25
 Lock   | transactionid |   8
 IO     | DataFileRead  |   7
 LWLock | BufferContent |   6

=== 12:46:27 ===
 IO     | DataFileRead  |  15
 LWLock | WALWrite      |  10
 Lock   | transactionid |   3
 Client | ClientRead    |   2
 IO     | WALSync       |   1

=== 12:46:28 ===
 LWLock | WALWrite      |  55
 IO     | DataFileRead  |   9
 Lock   | transactionid |   7
 LWLock | WALInsert     |   6
 LWLock | BufferContent |   1


```

### pg_stats

```
Time,HitRatio,TPS,Active,WaitLock,Deadlock,WalBytes
12:45:23,99.25,6,1,0,0,7860402271
12:45:28,99.86,16,73,16,0,7917099165
12:45:33,99.93,28,41,8,0,8006732253
12:45:38,95.63,94,69,12,0,8070917158
12:45:43,93.25,6846,122,21,0,8132156965
12:45:48,92.94,15561,130,19,0,8184429985
12:45:54,93.03,25186,75,16,0,8236124571
12:45:59,93.19,34651,165,27,0,8283595364
12:46:04,93.34,43653,120,20,0,8327102403
12:46:10,93.51,52664,161,22,0,8369414217
12:46:15,93.67,62155,139,16,0,8409699018
12:46:20,93.83,71332,76,23,0,8447403688

```

---
