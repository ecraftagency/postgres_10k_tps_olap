# Benchmark Report: TPC-B

**Date:** 2026-01-05 12:42:28
**Context:** `single-node/r8g.large--tpc-b`
**Hardware:** r8g.large (2 vCPU, 16 GB RAM)
**Workload:** tpc-b

## Summary

| Metric | Value |
|--------|-------|
| **TPS** | **506** |
| Duration | 60s |
| Avg Latency | 98.64ms |
| Latency Stddev | 91.18ms |
| P99 Latency | 326.60ms |
| Total Transactions | 30,375 |

### Additional Metrics

| Metric | Value |
|--------|-------|
| clients | 50 |
| scale | 204 |

---

## Configuration Matrix

**Context:** `single-node/r8g.large--tpc-b`
**Hardware:** r8g.large (2 vCPU, 16 GB RAM)
**Workload:** tpc-b

### PostgreSQL - Memory

| Setting | Value |
|---------|-------|
| shared_buffers | `4GB` |
| huge_pages | `try` |
| work_mem | `16MB` |
| maintenance_work_mem | `256MB` |
| effective_cache_size | `11GB` |
| max_connections | `300` |

### PostgreSQL - WAL

| Setting | Value |
|---------|-------|
| wal_buffers | `64MB` |
| wal_compression | `lz4` |
| max_wal_size | `32GB` |
| checkpoint_timeout | `30min` |
| synchronous_commit | `on` |
| commit_delay | `0` |

### PostgreSQL - Background Writer

| Setting | Value |
|---------|-------|
| bgwriter_delay | `10ms` |
| bgwriter_lru_maxpages | `500` |
| bgwriter_lru_multiplier | `4.0` |

### PostgreSQL - Parallel Query

| Setting | Value |
|---------|-------|
| max_worker_processes | `2` |
| max_parallel_workers | `2` |
| max_parallel_workers_per_gather | `2` |
| jit | `off` |

### OS Tuning

| Setting | Value |
|---------|-------|
| vm.nr_hugepages | `2191` |
| vm.swappiness | `1` |
| vm.dirty_background_ratio | `1` |
| vm.dirty_ratio | `4` |

### Block Device Tuning

| Device | read_ahead_kb | scheduler | nomerges |
|--------|---------------|-----------|----------|
| md0 (DATA) | `64` | `none` | `0` |
| md1 (WAL) | `4096` | `none` | `0` |

### Benchmark Config

| Setting | Value |
|---------|-------|
| pgbench_scale | `204` |
| pgbench_duration | `60` |
| pgbench_clients_heavy | `100` |

---

## System Configuration

```
=== INSTANCE ===

Linux ip-10-0-1-28 6.14.0-1018-aws #18~24.04.1-Ubuntu SMP Mon Nov 24 19:32:52 UTC 2025 aarch64 aarch64 aarch64 GNU/Linux
Architecture:                            aarch64
CPU(s):                                  2
Model name:                              Neoverse-V2
total        used        free      shared  buff/cache   available
Mem:            15Gi       5.2Gi       566Mi       2.8Mi        10Gi        10Gi
Swap:             0B          0B          0B

=== OS TUNING ===
vm.swappiness = 1
vm.dirty_ratio = 4
vm.dirty_background_ratio = 1
vm.dirty_expire_centisecs = 200
vm.dirty_writeback_centisecs = 100
always madvise [never]

=== HUGEPAGES ===
AnonHugePages:         0 kB
ShmemHugePages:        0 kB
FileHugePages:         0 kB
HugePages_Total:    2200
HugePages_Free:      904
HugePages_Rsvd:      840
HugePages_Surp:        0

=== NETWORK ===
net.core.somaxconn = 4096
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_fin_timeout = 15

=== DISK - RAID ===
Personalities : [raid10] 
md1 : active raid10 nvme9n1[6] nvme11n1[7] nvme15n1[1] nvme13n1[2] nvme12n1[0] nvme16n1[5] nvme10n1[3] nvme14n1[4]
      125759488 blocks super 1.2 256K chunks 2 near-copies [8/8] [UUUUUUUU]
      
md0 : active raid10 nvme6n1[3] nvme2n1[7] nvme3n1[5] nvme1n1[4] nvme7n1[2] nvme4n1[6] nvme5n1[1] nvme8n1[0]
      209580032 blocks super 1.2 64K chunks 2 near-copies [8/8] [UUUUUUUU]
      
unused devices: <none>
/dev/md0:
           Version : 1.2
     Creation Time : Sat Jan  3 08:26:08 2026
        Raid Level : raid10
        Array Size : 209580032 (199.87 GiB 214.61 GB)
     Used Dev Size : 52395008 (49.97 GiB 53.65 GB)
      Raid Devices : 8
     Total Devices : 8
       Persistence : Superblock is persistent

       Update Time : Mon Jan  5 12:40:06 2026
             State : clean 
    Active Devices : 8
   Working Devices : 8
    Failed Devices : 0
     Spare Devices : 0

            Layout : near=2
        Chunk Size : 64K

Consistency Policy : resync

              Name : ip-10-0-1-227:0
              UUID : ec94b08e:1ec1acd2:a24076ab:c0b61faa
            Events : 308

    Number   Major   Minor   RaidDevice State
       0     259        6        0      active sync set-A   /dev/nvme8n1
       1     259        4        1      active sync set-B   /dev/nvme5n1
       2     259        8        2      active sync set-A   /dev/nvme7n1
       3     259        5        3      active sync set-B   /dev/nvme6n1
       4     259        2        4      active sync set-A   /dev/nvme1n1
       5     259        1        5      active sync set-B   /dev/nvme3n1
       6     259        3        6      active sync set-A   /dev/nvme4n1
       7     259        7        7      active sync set-B   /dev/nvme2n1
/dev/md1:
           Version : 1.2
     Creation Time : Sat Jan  3 08:26:08 2026
        Raid Level : raid10
        Array Size : 125759488 (119.93 GiB 128.78 GB)
     Used Dev Size : 31439872 (29.98 GiB 32.19 GB)
      Raid Devices : 8
     Total Devices : 8
       Persistence : Superblock is persistent

       Update Time : Mon Jan  5 12:39:57 2026
             State : clean 
    Active Devices : 8
   Working Devices : 8
    Failed Devices : 0
     Spare Devices : 0

            Layout : near=2
        Chunk Size : 256K

Consistency Policy : resync

              Name : ip-10-0-1-227:1
              UUID : 4920b43f:4424608d:2e163255:f781c5ec
            Events : 19

    Number   Major   Minor   RaidDevice State
       0     259       13        0      active sync set-A   /dev/nvme12n1
       1     259       19        1      active sync set-B   /dev/nvme15n1
       2     259       18        2      active sync set-A   /dev/nvme13n1
       3     259        9        3      active sync set-B   /dev/nvme10n1
       4     259       11        4      active sync set-A   /dev/nvme14n1
       5     259       14        5      active sync set-B   /dev/nvme16n1
       6     259       10        6      active sync set-A   /dev/nvme9n1
       7     259       12        7      active sync set-B   /dev/nvme11n1

=== DISK - BLOCK TUNING ===
--- md0 ---
scheduler: 
read_ahead_kb: 64
nr_requests: 
--- md1 ---
scheduler: 
read_ahead_kb: 4096
nr_requests: 

=== DISK - MOUNT ===
/dev/md1 on /wal type xfs (rw,noatime,nodiratime,attr2,inode64,logbufs=8,logbsize=256k,sunit=512,swidth=2048,noquota)
/dev/md0 on /data type xfs (rw,noatime,nodiratime,attr2,inode64,allocsize=65536k,logbufs=8,logbsize=256k,sunit=128,swidth=512,noquota)
Filesystem      Size  Used Avail Use% Mounted on
/dev/md0        200G   44G  157G  22% /data
/dev/md1        120G   22G   99G  18% /wal

=== DISK - XFS ===
meta-data=/dev/md0               isize=512    agcount=16, agsize=3274688 blks
         =                       sectsz=4096  attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=1
         =                       reflink=1    bigtime=1 inobtcount=1 nrext64=0
data     =                       bsize=4096   blocks=52395008, imaxpct=25
         =                       sunit=16     swidth=64 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=25583, version=2
         =                       sectsz=4096  sunit=1 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
meta-data=/dev/md1               isize=512    agcount=8, agsize=3929984 blks
         =                       sectsz=4096  attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=1
         =                       reflink=1    bigtime=1 inobtcount=1 nrext64=0
data     =                       bsize=4096   blocks=31439872, imaxpct=25
         =                       sunit=64     swidth=256 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=16384, version=2
         =                       sectsz=4096  sunit=1 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0

=== POSTGRESQL CONFIG ===
effective_cache_size | 1441792 | 8kB
 huge_pages           | try     | 
 max_connections      | 300     | 
 max_wal_size         | 32768   | MB
 shared_buffers       | 524288  | 8kB
 wal_buffers          | 8192    | 8kB
 work_mem             | 16384   | kB
```

---

## Benchmark Output

```
pgbench (16.11 (Ubuntu 16.11-1.pgdg24.04+1))
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 1250
query mode: simple
number of clients: 50
number of threads: 2
maximum number of tries: 1
duration: 60 s
number of transactions actually processed: 30375
number of failed transactions: 0 (0.000%)
latency average = 98.637 ms
latency stddev = 91.184 ms
initial connection time = 44.077 ms
tps = 506.094351 (without initial connection time)
starting vacuum...end.
progress: 5.0 s, 2087.2 tps, lat 23.202 ms stddev 43.658, 0 failed
progress: 10.0 s, 386.2 tps, lat 130.772 ms stddev 67.562, 0 failed
progress: 15.0 s, 375.8 tps, lat 133.505 ms stddev 68.015, 0 failed
progress: 20.0 s, 369.6 tps, lat 133.514 ms stddev 82.888, 0 failed
progress: 25.0 s, 322.4 tps, lat 152.876 ms stddev 116.781, 0 failed
progress: 30.0 s, 328.0 tps, lat 155.105 ms stddev 89.232, 0 failed
progress: 35.0 s, 392.4 tps, lat 125.193 ms stddev 92.793, 0 failed
progress: 40.0 s, 344.2 tps, lat 147.610 ms stddev 78.991, 0 failed
progress: 45.0 s, 339.2 tps, lat 147.711 ms stddev 93.348, 0 failed
progress: 50.0 s, 363.2 tps, lat 133.179 ms stddev 64.169, 0 failed
progress: 55.0 s, 402.6 tps, lat 128.655 ms stddev 71.157, 0 failed
progress: 60.0 s, 354.2 tps, lat 136.852 ms stddev 90.827, 0 failed

```

---

## Diagnostics

### iostat

```
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            705.69  10323.33     0.00   0.00    5.05    14.63  315.57   6992.90     0.00   0.00    2.16    22.16    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    4.24  37.29
md1              0.26      4.62     0.00   0.00    0.94    18.07   77.05   3233.39     0.00   0.00    1.29    41.96    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.10   6.12
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           1658.00  28744.00     0.00   0.00    1.98    17.34    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    3.29 100.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           1947.00  33472.00     0.00   0.00    1.57    17.19    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    3.06 100.00
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           4051.00  47752.00     0.00   0.00    1.80    11.79    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    7.29 100.00
md1              0.00      0.00     0.00   0.00    0.00     0.00  400.00  12672.00     0.00   0.00    1.14    31.68    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.45  42.00
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           4265.00  48188.00     0.00   0.00    1.95    11.30    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    8.30 100.10
md1              0.00      0.00     0.00   0.00    0.00     0.00  461.00  11576.00     0.00   0.00    1.10    25.11    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.51  47.50
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0           1814.00  20908.00     0.00   0.00    2.39    11.53   10.00    568.00     0.00   0.00    1.90    56.80    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    4.35  84.70
md1              0.00      0.00     0.00   0.00    0.00     0.00  235.00   5156.00     0.00   0.00    1.06    21.94    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.25  23.00
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            562.00   7628.00     0.00   0.00    4.11    13.57    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.31  79.10
md1              0.00      0.00     0.00   0.00    0.00     0.00   29.00    960.00     0.00   0.00    1.14    33.10    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   3.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            585.00   7780.00     0.00   0.00    4.23    13.30    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.48  83.60
md1              0.00      0.00     0.00   0.00    0.00     0.00   32.00   1024.00     0.00   0.00    1.19    32.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.04   3.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            480.00   4968.00     0.00   0.00    5.38    10.35    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.58  85.70
md1              0.00      0.00     0.00   0.00    0.00     0.00   36.00   1120.00     0.00   0.00    1.22    31.11    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.04   3.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            649.00   9144.00     0.00   0.00    3.29    14.09    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.13  68.10
md1              0.00      0.00     0.00   0.00    0.00     0.00   28.00    888.00     0.00   0.00    1.18    31.71    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   3.00
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            532.00   6668.00     0.00   0.00    4.13    12.53    3.00    112.00     0.00   0.00    1.33    37.33    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.20  98.70
md1              0.00      0.00     0.00   0.00    0.00     0.00   39.00   1256.00     0.00   0.00    1.10    32.21    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.04   4.00
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            371.00   4920.00     0.00   0.00    5.39    13.26    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.00  73.50
md1              0.00      0.00     0.00   0.00    0.00     0.00   23.00    824.00     0.00   0.00    1.26    35.83    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.60
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            679.00   9048.00     0.00   0.00    3.64    13.33    8.00    408.00     0.00   0.00    1.50    51.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.48  79.50
md1              0.00      0.00     0.00   0.00    0.00     0.00   20.00    768.00     0.00   0.00    1.15    38.40    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.02   2.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            658.00   8700.00     0.00   0.00    3.57    13.22    4.00     48.00     0.00   0.00    1.00    12.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.35 100.00
md1              0.00      0.00     0.00   0.00    0.00     0.00   30.00   1080.00     0.00   0.00    1.13    36.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   3.00
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            407.00   4608.00     0.00   0.00    4.02    11.32    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.64  74.40
md1              0.00      0.00     0.00   0.00    0.00     0.00   24.00    880.00     0.00   0.00    1.17    36.67    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.60
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            506.00   6556.00     0.00   0.00    4.60    12.96    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.33  92.50
md1              0.00      0.00     0.00   0.00    0.00     0.00   19.00    696.00     0.00   0.00    1.26    36.63    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.02   2.30
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            565.00   7880.00     0.00   0.00    4.26    13.95    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.41  86.80
md1              0.00      0.00     0.00   0.00    0.00     0.00   24.00    888.00     0.00   0.00    1.12    37.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util

... (87 lines omitted) ...

md0            396.00   4336.00     0.00   0.00    5.02    10.95    1.00      8.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.99  75.10
md1              0.00      0.00     0.00   0.00    0.00     0.00   25.00    880.00     0.00   0.00    1.12    35.20    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.40
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            613.00   8448.00     0.00   0.00    3.47    13.78    5.00     40.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.13  98.60
md1              0.00      0.00     0.00   0.00    0.00     0.00   22.00    888.00     0.00   0.00    1.05    40.36    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.02   2.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            432.00   5040.00     0.00   0.00    3.87    11.67   48.00    400.00     0.00   0.00    1.08     8.33    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.73  59.20
md1              0.00      0.00     0.00   0.00    0.00     0.00   29.00    960.00     0.00   0.00    1.14    33.10    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   3.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            483.00   6540.00     0.00   0.00    3.99    13.54    5.00     40.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.93  79.50
md1              0.00      0.00     0.00   0.00    0.00     0.00   22.00    760.00     0.00   0.00    1.14    34.55    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.30
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            519.00   6524.00     0.00   0.00    4.71    12.57    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.45  92.60
md1              0.00      0.00     0.00   0.00    0.00     0.00   29.00   1072.00     0.00   0.00    1.10    36.97    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            587.00   8600.00     0.00   0.00    4.00    14.65   38.00    304.00     0.00   0.00    1.08     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.39  73.50
md1              0.00      0.00     0.00   0.00    0.00     0.00   23.00    768.00     0.00   0.00    1.30    33.39    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.70
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            638.00   7996.00     0.00   0.00    2.91    12.53   25.00    200.00     0.00   0.00    0.36     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.86  73.50
md1              0.00      0.00     0.00   0.00    0.00     0.00   28.00   1000.00     0.00   0.00    1.18    35.71    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   3.00
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            679.00   8688.00     0.00   0.00    3.57    12.80    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.42  96.90
md1              0.00      0.00     0.00   0.00    0.00     0.00   39.00   1088.00     0.00   0.00    1.08    27.90    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.04   3.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            537.00   7320.00     0.00   0.00    3.64    13.63    2.00     16.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.96  74.50
md1              0.00      0.00     0.00   0.00    0.00     0.00   34.00   1032.00     0.00   0.00    1.12    30.35    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.04   3.50
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            605.00   7744.00     0.00   0.00    2.54    12.80   10.00     80.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.55  76.60
md1              0.00      0.00     0.00   0.00    0.00     0.00   26.00    912.00     0.00   0.00    1.19    35.08    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            581.00   7324.00     0.00   0.00    3.46    12.61    3.00     24.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.01  74.80
md1              0.00      0.00     0.00   0.00    0.00     0.00   30.00    976.00     0.00   0.00    1.07    32.53    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            549.00   7464.00     0.00   0.00    2.96    13.60    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.62  81.90
md1              0.00      0.00     0.00   0.00    0.00     0.00   22.00    856.00     0.00   0.00    1.27    38.91    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.50
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            767.00   9916.00     0.00   0.00    1.95    12.93    1.00      8.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.50  91.20
md1              0.00      0.00     0.00   0.00    0.00     0.00   39.00   1288.00     0.00   0.00    1.18    33.03    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.05   4.20
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            575.00   7680.00     0.00   0.00    3.86    13.36    9.00    448.00     0.00   0.00    1.67    49.78    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.23  82.10
md1              0.00      0.00     0.00   0.00    0.00     0.00   29.00    904.00     0.00   0.00    1.03    31.17    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.03   2.90
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            690.00  10044.00     0.00   0.00    2.16    14.56    2.00     16.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.49  81.90
md1              0.00      0.00     0.00   0.00    0.00     0.00   18.00    632.00     0.00   0.00    1.22    35.11    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.02   2.10
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            495.00   6176.00     0.00   0.00    4.33    12.48    1.00      8.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    2.15  75.00
md1              0.00      0.00     0.00   0.00    0.00     0.00   33.00   1080.00     0.00   0.00    1.12    32.73    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.04   3.50
Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
md0            534.00   7272.00     0.00   0.00    3.14    13.62    1.00      8.00     0.00   0.00    1.00     8.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    1.68  87.00
md1              0.00      0.00     
```

### mpstat

```
Linux 6.14.0-1018-aws (ip-10-0-1-28) 	01/05/26 	_aarch64_	(2 CPU)

12:41:20     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:21     all    2.53    0.00    1.52   95.96    0.00    0.00    0.00    0.00    0.00    0.00
12:41:21       0    3.00    0.00    2.00   95.00    0.00    0.00    0.00    0.00    0.00    0.00
12:41:21       1    2.04    0.00    1.02   96.94    0.00    0.00    0.00    0.00    0.00    0.00

12:41:21     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:22     all    1.50    0.00    1.50   97.00    0.00    0.00    0.00    0.00    0.00    0.00
12:41:22       0    0.00    0.00    1.01   98.99    0.00    0.00    0.00    0.00    0.00    0.00
12:41:22       1    2.97    0.00    1.98   95.05    0.00    0.00    0.00    0.00    0.00    0.00

12:41:22     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:23     all   59.09    0.00   38.38    2.53    0.00    0.00    0.00    0.00    0.00    0.00
12:41:23       0   64.00    0.00   32.00    4.00    0.00    0.00    0.00    0.00    0.00    0.00
12:41:23       1   54.08    0.00   44.90    1.02    0.00    0.00    0.00    0.00    0.00    0.00

12:41:23     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:24     all   61.88    0.00   37.62    0.50    0.00    0.00    0.00    0.00    0.00    0.00
12:41:24       0   66.00    0.00   34.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
12:41:24       1   57.84    0.00   41.18    0.98    0.00    0.00    0.00    0.00    0.00    0.00

12:41:24     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:25     all   29.44    0.00   17.26   32.99    0.00    0.00    0.00    0.00    0.00   20.30
12:41:25       0   29.29    0.00   17.17   26.26    0.00    0.00    0.00    0.00    0.00   27.27
12:41:25       1   29.59    0.00   17.35   39.80    0.00    0.00    0.00    0.00    0.00   13.27

12:41:25     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:26     all    8.04    0.00    6.03   40.70    0.00    0.00    0.00    0.00    0.00   45.23
12:41:26       0    8.00    0.00    6.00   32.00    0.00    0.00    0.00    0.00    0.00   54.00
12:41:26       1    8.08    0.00    6.06   49.49    0.00    0.00    0.00    0.00    0.00   36.36

12:41:26     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:27     all    8.54    0.00    5.53   44.22    0.00    0.00    0.00    0.00    0.00   41.71
12:41:27       0    9.09    0.00    5.05   40.40    0.00    0.00    0.00    0.00    0.00   45.45
12:41:27       1    8.00    0.00    6.00   48.00    0.00    0.00    0.00    0.00    0.00   38.00

12:41:27     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:28     all    9.05    0.00    4.52   49.25    0.00    0.00    0.00    0.00    0.00   37.19
12:41:28       0   10.00    0.00    5.00   56.00    0.00    0.00    0.00    0.00    0.00   29.00
12:41:28       1    8.08    0.00    4.04   42.42    0.00    0.00    0.00    0.00    0.00   45.45

12:41:28     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:29     all    7.07    0.00    5.56   41.41    0.00    0.00    0.00    0.00    0.00   45.96
12:41:29       0    6.12    0.00    5.10   45.92    0.00    0.00    0.00    0.00    0.00   42.86
12:41:29       1    8.00    0.00    6.00   37.00    0.00    0.00    0.00    0.00    0.00   49.00

12:41:29     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:41:30     all    9.05    0.00    6.53   61.81    0.00    0.00    0.00    0.00    0.00   22.61
12:41:30       0    9.00    0.00    6.00   54.00    0.00    0.00    0.00    0.00    0.00   31.00

... (227 lines omitted) ...

12:42:15     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:16     all    8.59    0.00    6.06   41.92    0.00    0.00    0.00    0.00    0.00   43.43
12:42:16       0    8.16    0.00    5.10   29.59    0.00    0.00    0.00    0.00    0.00   57.14
12:42:16       1    9.00    0.00    7.00   54.00    0.00    0.00    0.00    0.00    0.00   30.00

12:42:16     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:17     all    6.03    0.00    5.53   44.22    0.00    0.00    0.00    0.00    0.00   44.22
12:42:17       0    6.00    0.00    6.00   39.00    0.00    0.00    0.00    0.00    0.00   49.00
12:42:17       1    6.06    0.00    5.05   49.49    0.00    0.00    0.00    0.00    0.00   39.39

12:42:17     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:18     all   10.66    0.00    5.08   40.10    0.00    0.00    0.00    0.00    0.00   44.16
12:42:18       0   11.11    0.00    5.05   41.41    0.00    0.00    0.00    0.00    0.00   42.42
12:42:18       1   10.20    0.00    5.10   38.78    0.00    0.00    0.00    0.00    0.00   45.92

12:42:18     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:19     all    8.50    0.00    6.00   47.00    0.00    0.00    0.00    0.00    0.00   38.50
12:42:19       0    8.08    0.00    5.05   44.44    0.00    0.00    0.00    0.00    0.00   42.42
12:42:19       1    8.91    0.00    6.93   49.50    0.00    0.00    0.00    0.00    0.00   34.65

12:42:19     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:20     all    6.03    0.00    5.03   38.19    0.00    0.00    0.00    0.00    0.00   50.75
12:42:20       0    7.00    0.00    4.00   38.00    0.00    0.00    0.00    0.00    0.00   51.00
12:42:20       1    5.05    0.00    6.06   38.38    0.00    0.00    0.00    0.00    0.00   50.51

12:42:20     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:21     all    8.59    0.00    5.56   41.41    0.00    0.00    0.00    0.00    0.00   44.44
12:42:21       0    8.08    0.00    5.05   42.42    0.00    0.00    0.00    0.00    0.00   44.44
12:42:21       1    9.09    0.00    6.06   40.40    0.00    0.00    0.00    0.00    0.00   44.44

12:42:21     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:22     all    6.53    0.00    5.53   31.66    0.00    0.00    0.00    0.00    0.00   56.28
12:42:22       0    6.00    0.00    6.00   18.00    0.00    0.00    0.00    0.00    0.00   70.00
12:42:22       1    7.07    0.00    5.05   45.45    0.00    0.00    0.00    0.00    0.00   42.42

12:42:22     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:23     all    1.01    0.00    6.53   53.27    0.00    0.00    0.00    0.00    0.00   39.20
12:42:23       0    1.00    0.00    7.00   57.00    0.00    0.00    0.00    0.00    0.00   35.00
12:42:23       1    1.01    0.00    6.06   49.49    0.00    0.00    0.00    0.00    0.00   43.43

12:42:23     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:24     all    1.00    0.00    2.50   48.50    0.00    0.00    0.00    0.00    0.00   48.00
12:42:24       0    1.00    0.00    2.00   35.00    0.00    0.00    0.00    0.00    0.00   62.00
12:42:24       1    1.00    0.00    3.00   62.00    0.00    0.00    0.00    0.00    0.00   34.00

12:42:24     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
12:42:25     all    0.00    0.00    2.53   33.84    0.00    0.00    0.00    0.00    0.00   63.64
12:42:25       0    0.00    0.00    2.04   52.04    0.00    0.00    0.00    0.00    0.00   45.92
12:42:25       1    0.00    0.00    3.00   16.00    0.00    0.00    0.00    0.00    0.00   81.00

```

### pg_wait_events

```
=== 12:41:20 ===
 IO   | DataFileRead |   2
 CPU  | Running      |   1

=== 12:41:21 ===
 IO   | DataFileRead |   2

=== 12:41:22 ===
 LWLock | WALWrite      |  31
 IO     | DataFileRead  |   5
 LWLock | WALInsert     |   3
 CPU    | Running       |   2
 Lock   | transactionid |   2

=== 12:41:23 ===
 IO     | DataFileRead  |   8
 LWLock | WALWrite      |   8
 Client | ClientRead    |   7
 IO     | WALSync       |   1
 Lock   | transactionid |   1

=== 12:41:24 ===
 LWLock | WALWrite      |  41
 IO     | DataFileRead  |   4
 Lock   | transactionid |   2
 CPU    | Running       |   1
 IO     | WALSync       |   1

=== 12:41:25 ===
 LWLock | WALWrite      |  47
 IO     | DataFileRead  |   2
 Lock   | transactionid |   2
 IO     | WALSync       |   1

=== 12:41:26 ===
 LWLock | WALWrite     |  49
 IO     | DataFileRead |   2
 IO     | WALSync      |   1

=== 12:41:27 ===
 IO     | DataFileRead |  44
 LWLock | WALWrite     |   7
 IO     | WALSync      |   1

=== 12:41:28 ===
 LWLock | WALWrite      |  44
 IO     | DataFileRead  |   4
 Lock   | transactionid |   3
 IO     | WALSync       |   1


... (222 lines omitted) ...

 IO     | DataFileRead |  31
 LWLock | WALWrite     |  20
 IO     | WALSync      |   1

=== 12:42:13 ===
 LWLock | WALWrite     |  46
 IO     | DataFileRead |   6

=== 12:42:14 ===
 LWLock | WALWrite     |  47
 IO     | DataFileRead |   4
 IO     | WALSync      |   1

=== 12:42:15 ===
 LWLock | WALWrite     |  48
 IO     | DataFileRead |   3
 IO     | WALSync      |   1

=== 12:42:16 ===
 LWLock | WALWrite      |  44
 IO     | DataFileRead  |   6
 IO     | WALSync       |   1
 Lock   | transactionid |   1

=== 12:42:17 ===
 IO     | DataFileRead |  45
 LWLock | WALWrite     |   6
 IO     | WALSync      |   1

=== 12:42:18 ===
 IO     | DataFileRead |  35
 LWLock | WALWrite     |  16
 IO     | WALSync      |   1

=== 12:42:19 ===
 IO     | DataFileRead |  19
 LWLock | WALWrite     |  13
 IO     | WALSync      |   1

=== 12:42:20 ===
 IO     | DataFileRead |  33
 LWLock | WALWrite     |  18
 IO     | WALSync      |   1

=== 12:42:21 ===
 LWLock | WALWrite     |  49
 IO     | DataFileRead |   2
 IO     | WALSync      |   1


```

### pg_stats

```
Time,HitRatio,TPS,Active,WaitLock,Deadlock,WalBytes
12:41:20,99.87,8,3,0,0,4929241594
12:41:25,99.97,18,53,0,0,4948549503
12:41:30,99.99,30,53,1,0,4954936607
12:41:35,99.99,42,53,0,0,4959058107
12:41:40,99.99,54,53,0,0,4962594782
12:41:45,99.99,66,53,0,0,4965980408
12:41:50,100.00,78,53,2,0,4969368070
12:41:55,100.00,88,53,0,0,4973123488
12:42:00,100.00,100,53,1,0,4977031716
12:42:05,100.00,112,47,1,0,4980723522
12:42:10,100.00,124,53,0,0,4984161426
12:42:15,100.00,136,53,2,0,4988089587

```

---
